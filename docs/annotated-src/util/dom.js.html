<!DOCTYPE html>
<html>
<head>
    <title>dom</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport"
        content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_1.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_5.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/32px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/40px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/throbber.gif"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_7.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_8.css"/>
    

    
    <script src="../../assets/file_2.js"
        type="text/javascript"></script>
    
    <script src="../../assets/file_3.js"
        type="text/javascript"></script>
    
    <script src="../../assets/file_4.js"
        type="text/javascript"></script>
    
    <script src="../../assets/file_6.js"
        type="text/javascript"></script>
    

    <script type="application/json" id="jsTreeJSON">
        [{"id":"annotated-src/filters/array-filters.js","text":"array-filters.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../filters/array-filters.js.html"},"state":{"selected":false}},{"id":"annotated-src","text":"annotated-src","icon":"jstree-folder","parent":"#","a_attr":{"href":".."},"state":{"opened":true}},{"id":"annotated-src/cache.js","text":"cache.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../cache.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler","text":"compiler","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../compiler"},"state":{"opened":false}},{"id":"annotated-src/compiler/compile-props.js","text":"compile-props.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/compile-props.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/compile.js","text":"compile.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/compile.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/resolve-slots.js","text":"resolve-slots.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/resolve-slots.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/transclude.js","text":"transclude.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/transclude.js.html"},"state":{"selected":false}},{"id":"annotated-src/config.js","text":"config.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../config.js.html"},"state":{"selected":false}},{"id":"annotated-src/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives","text":"directives","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../directives"},"state":{"opened":false}},{"id":"annotated-src/directives/element","text":"element","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../directives/element"},"state":{"opened":false}},{"id":"annotated-src/directives/element/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../directives/element/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/partial.js","text":"partial.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../directives/element/partial.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/slot.js","text":"slot.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../directives/element/slot.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../directives/internal"},"state":{"opened":false}},{"id":"annotated-src/directives/internal/class.js","text":"class.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/class.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/prop.js","text":"prop.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/prop.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/style.js","text":"style.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/style.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/priorities.js","text":"priorities.js","icon":"jstree-file","parent":"annotated-src/directives","a_attr":{"href":"../directives/priorities.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public","text":"public","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../directives/public"},"state":{"opened":false}},{"id":"annotated-src/directives/public/bind.js","text":"bind.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/bind.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/cloak.js","text":"cloak.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/cloak.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/el.js","text":"el.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/el.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/for.js","text":"for.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/for.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/html.js","text":"html.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/html.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/if.js","text":"if.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/if.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model","text":"model","icon":"jstree-folder","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/model"},"state":{"opened":false}},{"id":"annotated-src/directives/public/model/checkbox.js","text":"checkbox.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/checkbox.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/radio.js","text":"radio.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/radio.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/select.js","text":"select.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/select.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/on.js","text":"on.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/on.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/ref.js","text":"ref.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/ref.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/show.js","text":"show.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/show.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters","text":"filters","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../filters"},"state":{"opened":false}},{"id":"annotated-src/batcher.js","text":"batcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../batcher.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../filters/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment","text":"fragment","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../fragment"},"state":{"opened":false}},{"id":"annotated-src/fragment/factory.js","text":"factory.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../fragment/factory.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment/fragment.js","text":"fragment.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../fragment/fragment.js.html"},"state":{"selected":false}},{"id":"annotated-src/global-api.js","text":"global-api.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../global-api.js.html"},"state":{"selected":false}},{"id":"annotated-src/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../index.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance","text":"instance","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../instance"},"state":{"opened":false}},{"id":"annotated-src/instance/api","text":"api","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"../instance/api"},"state":{"opened":false}},{"id":"annotated-src/instance/api/data.js","text":"data.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/data.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"../instance/internal"},"state":{"opened":false}},{"id":"annotated-src/instance/internal/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/init.js","text":"init.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/init.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/misc.js","text":"misc.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/misc.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/state.js","text":"state.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/state.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/vue.js","text":"vue.js","icon":"jstree-file","parent":"annotated-src/instance","a_attr":{"href":"../instance/vue.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer","text":"observer","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../observer"},"state":{"opened":false}},{"id":"annotated-src/observer/array.js","text":"array.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../observer/array.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/dep.js","text":"dep.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../observer/dep.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../observer/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers","text":"parsers","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../parsers"},"state":{"opened":false}},{"id":"annotated-src/parsers/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../parsers/directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/expression.js","text":"expression.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../parsers/expression.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/path.js","text":"path.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../parsers/path.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/template.js","text":"template.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../parsers/template.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../parsers/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition","text":"transition","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../transition"},"state":{"opened":false}},{"id":"annotated-src/transition/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../transition/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/queue.js","text":"queue.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../transition/queue.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../transition/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/util","text":"util","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"."},"state":{"opened":true}},{"id":"annotated-src/util/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"component.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/debug.js","text":"debug.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"debug.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"dom.js.html"},"state":{"selected":true}},{"id":"annotated-src/util/env.js","text":"env.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"env.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"index.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/lang.js","text":"lang.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"lang.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/options.js","text":"options.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"options.js.html"},"state":{"selected":false}},{"id":"annotated-src/watcher.js","text":"watcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../watcher.js.html"},"state":{"selected":false}}]
    </script>
</head>
<body class="markdown-body">
<h1>
    dom
</h1>
<div class="subHeading">
    annotated-src/util/dom.js
</div>
<button type="button" class="navigatorToggle">&#9776; files...</button>
<nav class="navigationTree minimized">
    <input type="text" id="jsTreeSearch" placeholder="search..."/>
    <div></div>
</nav>
<section>
    <ul class="sectionDetails codeOnly">
        
        
        <li id="section-1">
            <div class="annotation">
                
            </div><div class="content">
                <div class="highlight"><pre><span class="hljs-keyword">import</span> config <span class="hljs-keyword">from</span> <span class="hljs-string">'../config'</span>
<span class="hljs-keyword">import</span> { isIE9 } <span class="hljs-keyword">from</span> <span class="hljs-string">'./env'</span>
<span class="hljs-keyword">import</span> { warn } <span class="hljs-keyword">from</span> <span class="hljs-string">'./debug'</span>
<span class="hljs-keyword">import</span> { camelize } <span class="hljs-keyword">from</span> <span class="hljs-string">'./lang'</span>
<span class="hljs-keyword">import</span> { removeWithTransition } <span class="hljs-keyword">from</span> <span class="hljs-string">'../transition/index'</span>

<span class="hljs-comment">/**
 * Query an element selector if it's not an element already.
 *
 * @param {String|Element} el
 * @return {Element}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">query</span> (<span class="hljs-params">el</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> el === <span class="hljs-string">'string'</span>) {
    <span class="hljs-keyword">var</span> selector = el
    el = <span class="hljs-built_in">document</span>.querySelector(el)
    <span class="hljs-keyword">if</span> (!el) {
      process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; warn(
        <span class="hljs-string">'Cannot find element: '</span> + selector
      )
    }
  }
  <span class="hljs-keyword">return</span> el
}

<span class="hljs-comment">/**
 * Check if a node is in the document.
 * Note: document.documentElement.contains should work here
 * but always returns false for comment nodes in phantomjs,
 * making unit tests difficult. This is fixed by doing the
 * contains() check on the node's parentNode instead of
 * the node itself.
 *
 * @param {Node} node
 * @return {Boolean}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inDoc</span> (<span class="hljs-params">node</span>) </span>{
  <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  <span class="hljs-keyword">var</span> doc = node.ownerDocument.documentElement
  <span class="hljs-keyword">var</span> parent = node.parentNode
  <span class="hljs-keyword">return</span> doc === node ||
    doc === parent ||
    !!(parent &amp;&amp; parent.nodeType === <span class="hljs-number">1</span> &amp;&amp; (doc.contains(parent)))
}

<span class="hljs-comment">/**
 * Get and remove an attribute from a node.
 *
 * @param {Node} node
 * @param {String} _attr
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttr</span> (<span class="hljs-params">node, _attr</span>) </span>{
  <span class="hljs-keyword">var</span> val = node.getAttribute(_attr)
  <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">null</span>) {
    node.removeAttribute(_attr)
  }
  <span class="hljs-keyword">return</span> val
}

<span class="hljs-comment">/**
 * Get an attribute with colon or v-bind: prefix.
 *
 * @param {Node} node
 * @param {String} name
 * @return {String|null}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBindAttr</span> (<span class="hljs-params">node, name</span>) </span>{
  <span class="hljs-keyword">var</span> val = getAttr(node, <span class="hljs-string">':'</span> + name)
  <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">null</span>) {
    val = getAttr(node, <span class="hljs-string">'v-bind:'</span> + name)
  }
  <span class="hljs-keyword">return</span> val
}

<span class="hljs-comment">/**
 * Check the presence of a bind attribute.
 *
 * @param {Node} node
 * @param {String} name
 * @return {Boolean}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasBindAttr</span> (<span class="hljs-params">node, name</span>) </span>{
  <span class="hljs-keyword">return</span> node.hasAttribute(name) ||
    node.hasAttribute(<span class="hljs-string">':'</span> + name) ||
    node.hasAttribute(<span class="hljs-string">'v-bind:'</span> + name)
}

<span class="hljs-comment">/**
 * Insert el before target
 *
 * @param {Element} el
 * @param {Element} target
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">before</span> (<span class="hljs-params">el, target</span>) </span>{
  target.parentNode.insertBefore(el, target)
}

<span class="hljs-comment">/**
 * Insert el after target
 *
 * @param {Element} el
 * @param {Element} target
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">after</span> (<span class="hljs-params">el, target</span>) </span>{
  <span class="hljs-keyword">if</span> (target.nextSibling) {
    before(el, target.nextSibling)
  } <span class="hljs-keyword">else</span> {
    target.parentNode.appendChild(el)
  }
}

<span class="hljs-comment">/**
 * Remove el from DOM
 *
 * @param {Element} el
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span> (<span class="hljs-params">el</span>) </span>{
  el.parentNode.removeChild(el)
}

<span class="hljs-comment">/**
 * Prepend el to target
 *
 * @param {Element} el
 * @param {Element} target
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepend</span> (<span class="hljs-params">el, target</span>) </span>{
  <span class="hljs-keyword">if</span> (target.firstChild) {
    before(el, target.firstChild)
  } <span class="hljs-keyword">else</span> {
    target.appendChild(el)
  }
}

<span class="hljs-comment">/**
 * Replace target with el
 *
 * @param {Element} target
 * @param {Element} el
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace</span> (<span class="hljs-params">target, el</span>) </span>{
  <span class="hljs-keyword">var</span> parent = target.parentNode
  <span class="hljs-keyword">if</span> (parent) {
    parent.replaceChild(el, target)
  }
}

<span class="hljs-comment">/**
 * Add event listener shorthand.
 *
 * @param {Element} el
 * @param {String} event
 * @param {Function} cb
 * @param {Boolean} [useCapture]
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">on</span> (<span class="hljs-params">el, event, cb, useCapture</span>) </span>{
  el.addEventListener(event, cb, useCapture)
}

<span class="hljs-comment">/**
 * Remove event listener shorthand.
 *
 * @param {Element} el
 * @param {String} event
 * @param {Function} cb
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">off</span> (<span class="hljs-params">el, event, cb</span>) </span>{
  el.removeEventListener(event, cb)
}

<span class="hljs-comment">/**
 * For IE9 compat: when both class and :class are present
 * getAttribute('class') returns wrong value...
 *
 * @param {Element} el
 * @return {String}
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClass</span> (<span class="hljs-params">el</span>) </span>{
  <span class="hljs-keyword">var</span> classname = el.className
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> classname === <span class="hljs-string">'object'</span>) {
    classname = classname.baseVal || <span class="hljs-string">''</span>
  }
  <span class="hljs-keyword">return</span> classname
}

<span class="hljs-comment">/**
 * In IE9, setAttribute('class') will result in empty class
 * if the element also has the :class attribute; However in
 * PhantomJS, setting `className` does not work on SVG elements...
 * So we have to do a conditional check here.
 *
 * @param {Element} el
 * @param {String} cls
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setClass</span> (<span class="hljs-params">el, cls</span>) </span>{
  <span class="hljs-comment">/* istanbul ignore if */</span>
  <span class="hljs-keyword">if</span> (isIE9 &amp;&amp; !<span class="hljs-regexp">/svg$/</span>.test(el.namespaceURI)) {
    el.className = cls
  } <span class="hljs-keyword">else</span> {
    el.setAttribute(<span class="hljs-string">'class'</span>, cls)
  }
}

<span class="hljs-comment">/**
 * Add class with compatibility for IE &amp; SVG
 *
 * @param {Element} el
 * @param {String} cls
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addClass</span> (<span class="hljs-params">el, cls</span>) </span>{
  <span class="hljs-keyword">if</span> (el.classList) {
    el.classList.add(cls)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> cur = <span class="hljs-string">' '</span> + getClass(el) + <span class="hljs-string">' '</span>
    <span class="hljs-keyword">if</span> (cur.indexOf(<span class="hljs-string">' '</span> + cls + <span class="hljs-string">' '</span>) &lt; <span class="hljs-number">0</span>) {
      setClass(el, (cur + cls).trim())
    }
  }
}

<span class="hljs-comment">/**
 * Remove class with compatibility for IE &amp; SVG
 *
 * @param {Element} el
 * @param {String} cls
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeClass</span> (<span class="hljs-params">el, cls</span>) </span>{
  <span class="hljs-keyword">if</span> (el.classList) {
    el.classList.remove(cls)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> cur = <span class="hljs-string">' '</span> + getClass(el) + <span class="hljs-string">' '</span>
    <span class="hljs-keyword">var</span> tar = <span class="hljs-string">' '</span> + cls + <span class="hljs-string">' '</span>
    <span class="hljs-keyword">while</span> (cur.indexOf(tar) &gt;= <span class="hljs-number">0</span>) {
      cur = cur.replace(tar, <span class="hljs-string">' '</span>)
    }
    setClass(el, cur.trim())
  }
  <span class="hljs-keyword">if</span> (!el.className) {
    el.removeAttribute(<span class="hljs-string">'class'</span>)
  }
}

<span class="hljs-comment">/**
 * Extract raw content inside an element into a temporary
 * container div
 *
 * @param {Element} el
 * @param {Boolean} asFragment
 * @return {Element|DocumentFragment}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extractContent</span> (<span class="hljs-params">el, asFragment</span>) </span>{
  <span class="hljs-keyword">var</span> child
  <span class="hljs-keyword">var</span> rawContent
  <span class="hljs-comment">/* istanbul ignore if */</span>
  <span class="hljs-keyword">if</span> (isTemplate(el) &amp;&amp; isFragment(el.content)) {
    el = el.content
  }
  <span class="hljs-keyword">if</span> (el.hasChildNodes()) {
    trimNode(el)
    rawContent = asFragment
      ? <span class="hljs-built_in">document</span>.createDocumentFragment()
      : <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)
    <span class="hljs-comment">/* eslint-disable no-cond-assign */</span>
    <span class="hljs-keyword">while</span> (child = el.firstChild) {
    <span class="hljs-comment">/* eslint-enable no-cond-assign */</span>
      rawContent.appendChild(child)
    }
  }
  <span class="hljs-keyword">return</span> rawContent
}

<span class="hljs-comment">/**
 * Trim possible empty head/tail text and comment
 * nodes inside a parent.
 *
 * @param {Node} node
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trimNode</span> (<span class="hljs-params">node</span>) </span>{
  <span class="hljs-keyword">var</span> child
  <span class="hljs-comment">/* eslint-disable no-sequences */</span>
  <span class="hljs-keyword">while</span> (child = node.firstChild, isTrimmable(child)) {
    node.removeChild(child)
  }
  <span class="hljs-keyword">while</span> (child = node.lastChild, isTrimmable(child)) {
    node.removeChild(child)
  }
  <span class="hljs-comment">/* eslint-enable no-sequences */</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTrimmable</span> (<span class="hljs-params">node</span>) </span>{
  <span class="hljs-keyword">return</span> node &amp;&amp; (
    (node.nodeType === <span class="hljs-number">3</span> &amp;&amp; !node.data.trim()) ||
    node.nodeType === <span class="hljs-number">8</span>
  )
}

<span class="hljs-comment">/**
 * Check if an element is a template tag.
 * Note if the template appears inside an SVG its tagName
 * will be in lowercase.
 *
 * @param {Element} el
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTemplate</span> (<span class="hljs-params">el</span>) </span>{
  <span class="hljs-keyword">return</span> el.tagName &amp;&amp;
    el.tagName.toLowerCase() === <span class="hljs-string">'template'</span>
}

<span class="hljs-comment">/**
 * Create an "anchor" for performing dom insertion/removals.
 * This is used in a number of scenarios:
 * - fragment instance
 * - v-html
 * - v-if
 * - v-for
 * - component
 *
 * @param {String} content
 * @param {Boolean} persist - IE trashes empty textNodes on
 *                            cloneNode(true), so in certain
 *                            cases the anchor needs to be
 *                            non-empty to be persisted in
 *                            templates.
 * @return {Comment|Text}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAnchor</span> (<span class="hljs-params">content, persist</span>) </span>{
  <span class="hljs-keyword">var</span> anchor = config.debug
    ? <span class="hljs-built_in">document</span>.createComment(content)
    : <span class="hljs-built_in">document</span>.createTextNode(persist ? <span class="hljs-string">' '</span> : <span class="hljs-string">''</span>)
  anchor.__v_anchor = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">return</span> anchor
}

<span class="hljs-comment">/**
 * Find a component ref attribute that starts with $.
 *
 * @param {Element} node
 * @return {String|undefined}
 */</span>

<span class="hljs-keyword">var</span> refRE = <span class="hljs-regexp">/^v-ref:/</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findRef</span> (<span class="hljs-params">node</span>) </span>{
  <span class="hljs-keyword">if</span> (node.hasAttributes()) {
    <span class="hljs-keyword">var</span> attrs = node.attributes
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = attrs.length; i &lt; l; i++) {
      <span class="hljs-keyword">var</span> name = attrs[i].name
      <span class="hljs-keyword">if</span> (refRE.test(name)) {
        <span class="hljs-keyword">return</span> camelize(name.replace(refRE, <span class="hljs-string">''</span>))
      }
    }
  }
}

<span class="hljs-comment">/**
 * Map a function to a range of nodes .
 *
 * @param {Node} node
 * @param {Node} end
 * @param {Function} op
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mapNodeRange</span> (<span class="hljs-params">node, end, op</span>) </span>{
  <span class="hljs-keyword">var</span> next
  <span class="hljs-keyword">while</span> (node !== end) {
    next = node.nextSibling
    op(node)
    node = next
  }
  op(end)
}

<span class="hljs-comment">/**
 * Remove a range of nodes with transition, store
 * the nodes in a fragment with correct ordering,
 * and call callback when done.
 *
 * @param {Node} start
 * @param {Node} end
 * @param {Vue} vm
 * @param {DocumentFragment} frag
 * @param {Function} cb
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeNodeRange</span> (<span class="hljs-params">start, end, vm, frag, cb</span>) </span>{
  <span class="hljs-keyword">var</span> done = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">var</span> removed = <span class="hljs-number">0</span>
  <span class="hljs-keyword">var</span> nodes = []
  mapNodeRange(start, end, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
    <span class="hljs-keyword">if</span> (node === end) done = <span class="hljs-literal">true</span>
    nodes.push(node)
    removeWithTransition(node, vm, onRemoved)
  })
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onRemoved</span> (<span class="hljs-params"></span>) </span>{
    removed++
    <span class="hljs-keyword">if</span> (done &amp;&amp; removed &gt;= nodes.length) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; nodes.length; i++) {
        frag.appendChild(nodes[i])
      }
      cb &amp;&amp; cb()
    }
  }
}

<span class="hljs-comment">/**
 * Check if a node is a DocumentFragment.
 *
 * @param {Node} node
 * @return {Boolean}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFragment</span> (<span class="hljs-params">node</span>) </span>{
  <span class="hljs-keyword">return</span> node &amp;&amp; node.nodeType === <span class="hljs-number">11</span>
}

<span class="hljs-comment">/**
 * Get outerHTML of elements, taking care
 * of SVG elements in IE as well.
 *
 * @param {Element} el
 * @return {String}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOuterHTML</span> (<span class="hljs-params">el</span>) </span>{
  <span class="hljs-keyword">if</span> (el.outerHTML) {
    <span class="hljs-keyword">return</span> el.outerHTML
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> container = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)
    container.appendChild(el.cloneNode(<span class="hljs-literal">true</span>))
    <span class="hljs-keyword">return</span> container.innerHTML
  }
}

<span class="hljs-comment">/**
 * Find a vm from a fragment.
 *
 * @param {Fragment} frag
 * @return {Vue|undefined}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findVmFromFrag</span> (<span class="hljs-params">frag</span>) </span>{
  <span class="hljs-keyword">let</span> node = frag.node
  <span class="hljs-comment">/* handle multi-node frag */</span>
  <span class="hljs-keyword">if</span> (frag.end) {
    <span class="hljs-keyword">while</span> (!node.__vue__ &amp;&amp; node !== frag.end &amp;&amp; node.nextSibling) {
      node = node.nextSibling
    }
  }
  <span class="hljs-keyword">return</span> node.__vue__
}</pre></div>
            </div>
        </li>
        
    </ul>
</section>
</body>
</html>
