<!DOCTYPE html>
<html>
<head>
    <title>state</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport"
        content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_1.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_5.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/32px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/40px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/throbber.gif"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_7.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_8.css"/>
    

    
    <script src="../../../assets/file_2.js"
        type="text/javascript"></script>
    
    <script src="../../../assets/file_3.js"
        type="text/javascript"></script>
    
    <script src="../../../assets/file_4.js"
        type="text/javascript"></script>
    
    <script src="../../../assets/file_6.js"
        type="text/javascript"></script>
    

    <script type="application/json" id="jsTreeJSON">
        [{"id":"annotated-src/filters/array-filters.js","text":"array-filters.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../../filters/array-filters.js.html"},"state":{"selected":false}},{"id":"annotated-src","text":"annotated-src","icon":"jstree-folder","parent":"#","a_attr":{"href":"../.."},"state":{"opened":true}},{"id":"annotated-src/cache.js","text":"cache.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../cache.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler","text":"compiler","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../compiler"},"state":{"opened":false}},{"id":"annotated-src/compiler/compile-props.js","text":"compile-props.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/compile-props.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/compile.js","text":"compile.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/compile.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/resolve-slots.js","text":"resolve-slots.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/resolve-slots.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/transclude.js","text":"transclude.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/transclude.js.html"},"state":{"selected":false}},{"id":"annotated-src/config.js","text":"config.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../config.js.html"},"state":{"selected":false}},{"id":"annotated-src/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives","text":"directives","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../directives"},"state":{"opened":false}},{"id":"annotated-src/directives/element","text":"element","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../../directives/element"},"state":{"opened":false}},{"id":"annotated-src/directives/element/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../../directives/element/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/partial.js","text":"partial.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../../directives/element/partial.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/slot.js","text":"slot.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../../directives/element/slot.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../../directives/internal"},"state":{"opened":false}},{"id":"annotated-src/directives/internal/class.js","text":"class.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/class.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/prop.js","text":"prop.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/prop.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/style.js","text":"style.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/style.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/priorities.js","text":"priorities.js","icon":"jstree-file","parent":"annotated-src/directives","a_attr":{"href":"../../directives/priorities.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public","text":"public","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../../directives/public"},"state":{"opened":false}},{"id":"annotated-src/directives/public/bind.js","text":"bind.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/bind.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/cloak.js","text":"cloak.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/cloak.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/el.js","text":"el.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/el.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/for.js","text":"for.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/for.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/html.js","text":"html.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/html.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/if.js","text":"if.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/if.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model","text":"model","icon":"jstree-folder","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/model"},"state":{"opened":false}},{"id":"annotated-src/directives/public/model/checkbox.js","text":"checkbox.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/checkbox.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/radio.js","text":"radio.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/radio.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/select.js","text":"select.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/select.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/on.js","text":"on.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/on.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/ref.js","text":"ref.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/ref.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/show.js","text":"show.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/show.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters","text":"filters","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../filters"},"state":{"opened":false}},{"id":"annotated-src/batcher.js","text":"batcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../batcher.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../../filters/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment","text":"fragment","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../fragment"},"state":{"opened":false}},{"id":"annotated-src/fragment/factory.js","text":"factory.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../../fragment/factory.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment/fragment.js","text":"fragment.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../../fragment/fragment.js.html"},"state":{"selected":false}},{"id":"annotated-src/global-api.js","text":"global-api.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../global-api.js.html"},"state":{"selected":false}},{"id":"annotated-src/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../index.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance","text":"instance","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":".."},"state":{"opened":true}},{"id":"annotated-src/instance/api","text":"api","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"../api"},"state":{"opened":false}},{"id":"annotated-src/instance/api/data.js","text":"data.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/data.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"."},"state":{"opened":true}},{"id":"annotated-src/instance/internal/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/init.js","text":"init.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"init.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/misc.js","text":"misc.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"misc.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/state.js","text":"state.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"state.js.html"},"state":{"selected":true}},{"id":"annotated-src/instance/vue.js","text":"vue.js","icon":"jstree-file","parent":"annotated-src/instance","a_attr":{"href":"../vue.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer","text":"observer","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../observer"},"state":{"opened":false}},{"id":"annotated-src/observer/array.js","text":"array.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../../observer/array.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/dep.js","text":"dep.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../../observer/dep.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../../observer/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers","text":"parsers","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../parsers"},"state":{"opened":false}},{"id":"annotated-src/parsers/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/expression.js","text":"expression.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/expression.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/path.js","text":"path.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/path.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/template.js","text":"template.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/template.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition","text":"transition","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../transition"},"state":{"opened":false}},{"id":"annotated-src/transition/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../../transition/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/queue.js","text":"queue.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../../transition/queue.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../../transition/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/util","text":"util","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../util"},"state":{"opened":false}},{"id":"annotated-src/util/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/debug.js","text":"debug.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/debug.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/env.js","text":"env.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/env.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/lang.js","text":"lang.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/lang.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/options.js","text":"options.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/options.js.html"},"state":{"selected":false}},{"id":"annotated-src/watcher.js","text":"watcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../watcher.js.html"},"state":{"selected":false}}]
    </script>
</head>
<body class="markdown-body">
<h1>
    state
</h1>
<div class="subHeading">
    annotated-src/instance/internal/state.js
</div>
<button type="button" class="navigatorToggle">&#9776; files...</button>
<nav class="navigationTree minimized">
    <input type="text" id="jsTreeSearch" placeholder="search..."/>
    <div></div>
</nav>
<section>
    <ul class="sectionDetails codeOnly">
        
        
        <li id="section-1">
            <div class="annotation">
                
            </div><div class="content">
                <div class="highlight"><pre><span class="hljs-keyword">import</span> Watcher <span class="hljs-keyword">from</span> <span class="hljs-string">'../../watcher'</span>
<span class="hljs-keyword">import</span> { compileAndLinkProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../compiler/index'</span>
<span class="hljs-keyword">import</span> Dep <span class="hljs-keyword">from</span> <span class="hljs-string">'../../observer/dep'</span>
<span class="hljs-keyword">import</span> {
  observe,
  defineReactive
} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../observer/index'</span>

<span class="hljs-keyword">import</span> {
  warn,
  query,
  hasOwn,
  isReserved,
  isPlainObject,
  bind
} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../util/index'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Vue</span>) </span>{
  <span class="hljs-comment">/**
   * Accessor for `$data` property, since setting $data
   * requires observing the new object and updating
   * proxied properties.
   */</span>

  <span class="hljs-built_in">Object</span>.defineProperty(Vue.prototype, <span class="hljs-string">'$data'</span>, {
    get () {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._data
    },
    set (newData) {
      <span class="hljs-keyword">if</span> (newData !== <span class="hljs-keyword">this</span>._data) {
        <span class="hljs-keyword">this</span>._setData(newData)
      }
    }
  })

  <span class="hljs-comment">/**
   * Setup the scope of an instance, which contains:
   * - observed data
   * - computed properties
   * - user methods
   * - meta properties
   */</span>

  Vue.prototype._initState = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>._initProps()
    <span class="hljs-keyword">this</span>._initMeta()
    <span class="hljs-keyword">this</span>._initMethods()
    <span class="hljs-keyword">this</span>._initData()
    <span class="hljs-keyword">this</span>._initComputed()
  }

  <span class="hljs-comment">/**
   * Initialize props.
   */</span>

  Vue.prototype._initProps = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">this</span>.$options
    <span class="hljs-keyword">var</span> el = options.el
    <span class="hljs-keyword">var</span> props = options.props
    <span class="hljs-keyword">if</span> (props &amp;&amp; !el) {
      process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; warn(
        <span class="hljs-string">'Props will not be compiled if no `el` option is '</span> +
        <span class="hljs-string">'provided at instantiation.'</span>,
        <span class="hljs-keyword">this</span>
      )
    }
    <span class="hljs-comment">/* make sure to convert string selectors into element now */</span>
    el = options.el = query(el)
    <span class="hljs-keyword">this</span>._propsUnlinkFn = el &amp;&amp; el.nodeType === <span class="hljs-number">1</span> &amp;&amp; props
      <span class="hljs-comment">/* props must be linked in proper scope if inside v-for */</span>
      ? compileAndLinkProps(<span class="hljs-keyword">this</span>, el, props, <span class="hljs-keyword">this</span>._scope)
      : <span class="hljs-literal">null</span>
  }

  <span class="hljs-comment">/**
   * Initialize the data.
   */</span>

  Vue.prototype._initData = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> dataFn = <span class="hljs-keyword">this</span>.$options.data
    <span class="hljs-keyword">var</span> data = <span class="hljs-keyword">this</span>._data = dataFn ? dataFn() : {}
    <span class="hljs-keyword">if</span> (!isPlainObject(data)) {
      data = {}
      process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; warn(
        <span class="hljs-string">'data functions should return an object.'</span>,
        <span class="hljs-keyword">this</span>
      )
    }
    <span class="hljs-keyword">var</span> props = <span class="hljs-keyword">this</span>._props
    <span class="hljs-comment">/* proxy data on instance */</span>
    <span class="hljs-keyword">var</span> keys = <span class="hljs-built_in">Object</span>.keys(data)
    <span class="hljs-keyword">var</span> i, key
    i = keys.length
    <span class="hljs-keyword">while</span> (i--) {
      key = keys[i]
      <span class="hljs-comment">/* there are two scenarios where we can proxy a data key: */</span>
      <span class="hljs-comment">/* 1. it's not already defined as a prop */</span>
      <span class="hljs-comment">/* 2. it's provided via a instantiation option AND there are no */</span>
      <span class="hljs-comment">/*    template prop present */</span>
      <span class="hljs-keyword">if</span> (!props || !hasOwn(props, key)) {
        <span class="hljs-keyword">this</span>._proxy(key)
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span>) {
        warn(
          <span class="hljs-string">'Data field "'</span> + key + <span class="hljs-string">'" is already defined '</span> +
          <span class="hljs-string">'as a prop. To provide default value for a prop, use the "default" '</span> +
          <span class="hljs-string">'prop option; if you want to pass prop values to an instantiation '</span> +
          <span class="hljs-string">'call, use the "propsData" option.'</span>,
          <span class="hljs-keyword">this</span>
        )
      }
    }
    <span class="hljs-comment">/* observe data */</span>
    observe(data, <span class="hljs-keyword">this</span>)
  }

  <span class="hljs-comment">/**
   * Swap the instance's $data. Called in $data's setter.
   *
   * @param {Object} newData
   */</span>

  Vue.prototype._setData = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newData</span>) </span>{
    newData = newData || {}
    <span class="hljs-keyword">var</span> oldData = <span class="hljs-keyword">this</span>._data
    <span class="hljs-keyword">this</span>._data = newData
    <span class="hljs-keyword">var</span> keys, key, i
    <span class="hljs-comment">/* unproxy keys not present in new data */</span>
    keys = <span class="hljs-built_in">Object</span>.keys(oldData)
    i = keys.length
    <span class="hljs-keyword">while</span> (i--) {
      key = keys[i]
      <span class="hljs-keyword">if</span> (!(key <span class="hljs-keyword">in</span> newData)) {
        <span class="hljs-keyword">this</span>._unproxy(key)
      }
    }
    <span class="hljs-comment">/* proxy keys not already proxied, */</span>
    <span class="hljs-comment">/* and trigger change for changed values */</span>
    keys = <span class="hljs-built_in">Object</span>.keys(newData)
    i = keys.length
    <span class="hljs-keyword">while</span> (i--) {
      key = keys[i]
      <span class="hljs-keyword">if</span> (!hasOwn(<span class="hljs-keyword">this</span>, key)) {
        <span class="hljs-comment">/* new property */</span>
        <span class="hljs-keyword">this</span>._proxy(key)
      }
    }
    oldData.__ob__.removeVm(<span class="hljs-keyword">this</span>)
    observe(newData, <span class="hljs-keyword">this</span>)
    <span class="hljs-keyword">this</span>._digest()
  }

  <span class="hljs-comment">/**
   * Proxy a property, so that
   * vm.prop === vm._data.prop
   *
   * @param {String} key
   */</span>

  Vue.prototype._proxy = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
    <span class="hljs-keyword">if</span> (!isReserved(key)) {
      <span class="hljs-comment">/* need to store ref to self here */</span>
      <span class="hljs-comment">/* because these getter/setters might */</span>
      <span class="hljs-comment">/* be called by child scopes via */</span>
      <span class="hljs-comment">/* prototype inheritance. */</span>
      <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
      <span class="hljs-built_in">Object</span>.defineProperty(self, key, {
        configurable: <span class="hljs-literal">true</span>,
        enumerable: <span class="hljs-literal">true</span>,
        get: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">proxyGetter</span> (<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">return</span> self._data[key]
        },
        set: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">proxySetter</span> (<span class="hljs-params">val</span>) </span>{
          self._data[key] = val
        }
      })
    }
  }

  <span class="hljs-comment">/**
   * Unproxy a property.
   *
   * @param {String} key
   */</span>

  Vue.prototype._unproxy = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
    <span class="hljs-keyword">if</span> (!isReserved(key)) {
      <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>[key]
    }
  }

  <span class="hljs-comment">/**
   * Force update on every watcher in scope.
   */</span>

  Vue.prototype._digest = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = <span class="hljs-keyword">this</span>._watchers.length; i &lt; l; i++) {
      <span class="hljs-keyword">this</span>._watchers[i].update(<span class="hljs-literal">true</span>) <span class="hljs-comment">/* shallow updates */</span>
    }
  }

  <span class="hljs-comment">/**
   * Setup computed properties. They are essentially
   * special getter/setters
   */</span>

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">noop</span> (<span class="hljs-params"></span>) </span>{}
  Vue.prototype._initComputed = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> computed = <span class="hljs-keyword">this</span>.$options.computed
    <span class="hljs-keyword">if</span> (computed) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> computed) {
        <span class="hljs-keyword">var</span> userDef = computed[key]
        <span class="hljs-keyword">var</span> def = {
          enumerable: <span class="hljs-literal">true</span>,
          configurable: <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> userDef === <span class="hljs-string">'function'</span>) {
          def.get = makeComputedGetter(userDef, <span class="hljs-keyword">this</span>)
          def.set = noop
        } <span class="hljs-keyword">else</span> {
          def.get = userDef.get
            ? userDef.cache !== <span class="hljs-literal">false</span>
              ? makeComputedGetter(userDef.get, <span class="hljs-keyword">this</span>)
              : bind(userDef.get, <span class="hljs-keyword">this</span>)
            : noop
          def.set = userDef.set
            ? bind(userDef.set, <span class="hljs-keyword">this</span>)
            : noop
        }
        <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>, key, def)
      }
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeComputedGetter</span> (<span class="hljs-params">getter, owner</span>) </span>{
    <span class="hljs-keyword">var</span> watcher = <span class="hljs-keyword">new</span> Watcher(owner, getter, <span class="hljs-literal">null</span>, {
      lazy: <span class="hljs-literal">true</span>
    })
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computedGetter</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (watcher.dirty) {
        watcher.evaluate()
      }
      <span class="hljs-keyword">if</span> (Dep.target) {
        watcher.depend()
      }
      <span class="hljs-keyword">return</span> watcher.value
    }
  }

  <span class="hljs-comment">/**
   * Setup instance methods. Methods must be bound to the
   * instance since they might be passed down as a prop to
   * child components.
   */</span>

  Vue.prototype._initMethods = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> methods = <span class="hljs-keyword">this</span>.$options.methods
    <span class="hljs-keyword">if</span> (methods) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> methods) {
        <span class="hljs-keyword">this</span>[key] = bind(methods[key], <span class="hljs-keyword">this</span>)
      }
    }
  }

  <span class="hljs-comment">/**
   * Initialize meta information like $index, $key &amp; $value.
   */</span>

  Vue.prototype._initMeta = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> metas = <span class="hljs-keyword">this</span>.$options._meta
    <span class="hljs-keyword">if</span> (metas) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> metas) {
        defineReactive(<span class="hljs-keyword">this</span>, key, metas[key])
      }
    }
  }
}</pre></div>
            </div>
        </li>
        
    </ul>
</section>
</body>
</html>
