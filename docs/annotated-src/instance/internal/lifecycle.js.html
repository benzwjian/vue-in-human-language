<!DOCTYPE html>
<html>
<head>
    <title>lifecycle</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport"
        content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_1.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_5.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/32px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/40px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/throbber.gif"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_7.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../../assets/file_8.css"/>
    

    
    <script src="../../../assets/file_2.js"
        type="text/javascript"></script>
    
    <script src="../../../assets/file_3.js"
        type="text/javascript"></script>
    
    <script src="../../../assets/file_4.js"
        type="text/javascript"></script>
    
    <script src="../../../assets/file_6.js"
        type="text/javascript"></script>
    

    <script type="application/json" id="jsTreeJSON">
        [{"id":"annotated-src/filters/array-filters.js","text":"array-filters.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../../filters/array-filters.js.html"},"state":{"selected":false}},{"id":"annotated-src","text":"annotated-src","icon":"jstree-folder","parent":"#","a_attr":{"href":"../.."},"state":{"opened":true}},{"id":"annotated-src/cache.js","text":"cache.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../cache.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler","text":"compiler","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../compiler"},"state":{"opened":false}},{"id":"annotated-src/compiler/compile-props.js","text":"compile-props.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/compile-props.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/compile.js","text":"compile.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/compile.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/resolve-slots.js","text":"resolve-slots.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/resolve-slots.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/transclude.js","text":"transclude.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../../compiler/transclude.js.html"},"state":{"selected":false}},{"id":"annotated-src/config.js","text":"config.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../config.js.html"},"state":{"selected":false}},{"id":"annotated-src/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives","text":"directives","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../directives"},"state":{"opened":false}},{"id":"annotated-src/directives/element","text":"element","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../../directives/element"},"state":{"opened":false}},{"id":"annotated-src/directives/element/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../../directives/element/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/partial.js","text":"partial.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../../directives/element/partial.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/slot.js","text":"slot.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../../directives/element/slot.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../../directives/internal"},"state":{"opened":false}},{"id":"annotated-src/directives/internal/class.js","text":"class.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/class.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/prop.js","text":"prop.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/prop.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/style.js","text":"style.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/style.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../../directives/internal/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/priorities.js","text":"priorities.js","icon":"jstree-file","parent":"annotated-src/directives","a_attr":{"href":"../../directives/priorities.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public","text":"public","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../../directives/public"},"state":{"opened":false}},{"id":"annotated-src/directives/public/bind.js","text":"bind.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/bind.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/cloak.js","text":"cloak.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/cloak.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/el.js","text":"el.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/el.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/for.js","text":"for.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/for.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/html.js","text":"html.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/html.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/if.js","text":"if.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/if.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model","text":"model","icon":"jstree-folder","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/model"},"state":{"opened":false}},{"id":"annotated-src/directives/public/model/checkbox.js","text":"checkbox.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/checkbox.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/radio.js","text":"radio.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/radio.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/select.js","text":"select.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/select.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../../directives/public/model/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/on.js","text":"on.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/on.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/ref.js","text":"ref.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/ref.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/show.js","text":"show.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/show.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../../directives/public/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters","text":"filters","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../filters"},"state":{"opened":false}},{"id":"annotated-src/batcher.js","text":"batcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../batcher.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../../filters/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment","text":"fragment","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../fragment"},"state":{"opened":false}},{"id":"annotated-src/fragment/factory.js","text":"factory.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../../fragment/factory.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment/fragment.js","text":"fragment.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../../fragment/fragment.js.html"},"state":{"selected":false}},{"id":"annotated-src/global-api.js","text":"global-api.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../global-api.js.html"},"state":{"selected":false}},{"id":"annotated-src/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../index.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance","text":"instance","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":".."},"state":{"opened":true}},{"id":"annotated-src/instance/api","text":"api","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"../api"},"state":{"opened":false}},{"id":"annotated-src/instance/api/data.js","text":"data.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/data.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../api/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"."},"state":{"opened":true}},{"id":"annotated-src/instance/internal/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/init.js","text":"init.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"init.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"lifecycle.js.html"},"state":{"selected":true}},{"id":"annotated-src/instance/internal/misc.js","text":"misc.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"misc.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/state.js","text":"state.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"state.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/vue.js","text":"vue.js","icon":"jstree-file","parent":"annotated-src/instance","a_attr":{"href":"../vue.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer","text":"observer","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../observer"},"state":{"opened":false}},{"id":"annotated-src/observer/array.js","text":"array.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../../observer/array.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/dep.js","text":"dep.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../../observer/dep.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../../observer/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers","text":"parsers","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../parsers"},"state":{"opened":false}},{"id":"annotated-src/parsers/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/expression.js","text":"expression.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/expression.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/path.js","text":"path.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/path.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/template.js","text":"template.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/template.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"../../parsers/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition","text":"transition","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../transition"},"state":{"opened":false}},{"id":"annotated-src/transition/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../../transition/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/queue.js","text":"queue.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../../transition/queue.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../../transition/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/util","text":"util","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../../util"},"state":{"opened":false}},{"id":"annotated-src/util/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/debug.js","text":"debug.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/debug.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/env.js","text":"env.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/env.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/lang.js","text":"lang.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/lang.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/options.js","text":"options.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../../util/options.js.html"},"state":{"selected":false}},{"id":"annotated-src/watcher.js","text":"watcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../../watcher.js.html"},"state":{"selected":false}}]
    </script>
</head>
<body class="markdown-body">
<h1>
    lifecycle
</h1>
<div class="subHeading">
    annotated-src/instance/internal/lifecycle.js
</div>
<button type="button" class="navigatorToggle">&#9776; files...</button>
<nav class="navigationTree minimized">
    <input type="text" id="jsTreeSearch" placeholder="search..."/>
    <div></div>
</nav>
<section>
    <ul class="sectionDetails codeOnly">
        
        
        <li id="section-1">
            <div class="annotation">
                
            </div><div class="content">
                <div class="highlight"><pre><span class="hljs-keyword">import</span> Directive <span class="hljs-keyword">from</span> <span class="hljs-string">'../../directive'</span>

<span class="hljs-keyword">import</span> {
  replace,
  getAttr,
  isFragment
} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../util/index'</span>

<span class="hljs-keyword">import</span> {
  compile,
  compileRoot,
  transclude,
  resolveSlots
} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../compiler/index'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Vue</span>) </span>{
  <span class="hljs-comment">/**
   * Update v-ref for component.
   *
   * @param {Boolean} remove
   */</span>

  Vue.prototype._updateRef = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">remove</span>) </span>{
    <span class="hljs-keyword">var</span> ref = <span class="hljs-keyword">this</span>.$options._ref
    <span class="hljs-keyword">if</span> (ref) {
      <span class="hljs-keyword">var</span> refs = (<span class="hljs-keyword">this</span>._scope || <span class="hljs-keyword">this</span>._context).$refs
      <span class="hljs-keyword">if</span> (remove) {
        <span class="hljs-keyword">if</span> (refs[ref] === <span class="hljs-keyword">this</span>) {
          refs[ref] = <span class="hljs-literal">null</span>
        }
      } <span class="hljs-keyword">else</span> {
        refs[ref] = <span class="hljs-keyword">this</span>
      }
    }
  }

  <span class="hljs-comment">/**
   * Transclude, compile and link element.
   *
   * If a pre-compiled linker is available, that means the
   * passed in element will be pre-transcluded and compiled
   * as well - all we need to do is to call the linker.
   *
   * Otherwise we need to call transclude/compile/link here.
   *
   * @param {Element} el
   */</span>

  Vue.prototype._compile = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>{
    <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">this</span>.$options

    <span class="hljs-comment">/* transclude and init element */</span>
    <span class="hljs-comment">/* transclude can potentially replace original */</span>
    <span class="hljs-comment">/* so we need to keep reference; this step also injects */</span>
    <span class="hljs-comment">/* the template and caches the original attributes */</span>
    <span class="hljs-comment">/* on the container node and replacer node. */</span>
    <span class="hljs-keyword">var</span> original = el
    el = transclude(el, options)
    <span class="hljs-keyword">this</span>._initElement(el)

    <span class="hljs-comment">/* handle v-pre on root node (#2026) */</span>
    <span class="hljs-keyword">if</span> (el.nodeType === <span class="hljs-number">1</span> &amp;&amp; getAttr(el, <span class="hljs-string">'v-pre'</span>) !== <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-comment">/* root is always compiled per-instance, because */</span>
    <span class="hljs-comment">/* container attrs and props can be different every time. */</span>
    <span class="hljs-keyword">var</span> contextOptions = <span class="hljs-keyword">this</span>._context &amp;&amp; <span class="hljs-keyword">this</span>._context.$options
    <span class="hljs-keyword">var</span> rootLinker = compileRoot(el, options, contextOptions)

    <span class="hljs-comment">/* resolve slot distribution */</span>
    resolveSlots(<span class="hljs-keyword">this</span>, options._content)

    <span class="hljs-comment">/* compile and link the rest */</span>
    <span class="hljs-keyword">var</span> contentLinkFn
    <span class="hljs-keyword">var</span> ctor = <span class="hljs-keyword">this</span>.constructor
    <span class="hljs-comment">/* component compilation can be cached */</span>
    <span class="hljs-comment">/* as long as it's not using inline-template */</span>
    <span class="hljs-keyword">if</span> (options._linkerCachable) {
      contentLinkFn = ctor.linker
      <span class="hljs-keyword">if</span> (!contentLinkFn) {
        contentLinkFn = ctor.linker = compile(el, options)
      }
    }

    <span class="hljs-comment">/* link phase */</span>
    <span class="hljs-comment">/* make sure to link root with prop scope! */</span>
    <span class="hljs-keyword">var</span> rootUnlinkFn = rootLinker(<span class="hljs-keyword">this</span>, el, <span class="hljs-keyword">this</span>._scope)
    <span class="hljs-keyword">var</span> contentUnlinkFn = contentLinkFn
      ? contentLinkFn(<span class="hljs-keyword">this</span>, el)
      : compile(el, options)(<span class="hljs-keyword">this</span>, el)

    <span class="hljs-comment">/* register composite unlink function */</span>
    <span class="hljs-comment">/* to be called during instance destruction */</span>
    <span class="hljs-keyword">this</span>._unlinkFn = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      rootUnlinkFn()
      <span class="hljs-comment">/* passing destroying: true to avoid searching and */</span>
      <span class="hljs-comment">/* splicing the directives */</span>
      contentUnlinkFn(<span class="hljs-literal">true</span>)
    }

    <span class="hljs-comment">/* finally replace original */</span>
    <span class="hljs-keyword">if</span> (options.replace) {
      replace(original, el)
    }

    <span class="hljs-keyword">this</span>._isCompiled = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">this</span>._callHook(<span class="hljs-string">'compiled'</span>)
  }

  <span class="hljs-comment">/**
   * Initialize instance element. Called in the public
   * $mount() method.
   *
   * @param {Element} el
   */</span>

  Vue.prototype._initElement = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>{
    <span class="hljs-keyword">if</span> (isFragment(el)) {
      <span class="hljs-keyword">this</span>._isFragment = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.$el = <span class="hljs-keyword">this</span>._fragmentStart = el.firstChild
      <span class="hljs-keyword">this</span>._fragmentEnd = el.lastChild
      <span class="hljs-comment">/* set persisted text anchors to empty */</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._fragmentStart.nodeType === <span class="hljs-number">3</span>) {
        <span class="hljs-keyword">this</span>._fragmentStart.data = <span class="hljs-keyword">this</span>._fragmentEnd.data = <span class="hljs-string">''</span>
      }
      <span class="hljs-keyword">this</span>._fragment = el
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.$el = el
    }
    <span class="hljs-keyword">this</span>.$el.__vue__ = <span class="hljs-keyword">this</span>
    <span class="hljs-keyword">this</span>._callHook(<span class="hljs-string">'beforeCompile'</span>)
  }

  <span class="hljs-comment">/**
   * Create and bind a directive to an element.
   *
   * @param {Object} descriptor - parsed directive descriptor
   * @param {Node} node   - target node
   * @param {Vue} [host] - transclusion host component
   * @param {Object} [scope] - v-for scope
   * @param {Fragment} [frag] - owner fragment
   */</span>

  Vue.prototype._bindDir = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">descriptor, node, host, scope, frag</span>) </span>{
    <span class="hljs-keyword">this</span>._directives.push(
      <span class="hljs-keyword">new</span> Directive(descriptor, <span class="hljs-keyword">this</span>, node, host, scope, frag)
    )
  }

  <span class="hljs-comment">/**
   * Teardown an instance, unobserves the data, unbind all the
   * directives, turn off all the event listeners, etc.
   *
   * @param {Boolean} remove - whether to remove the DOM node.
   * @param {Boolean} deferCleanup - if true, defer cleanup to
   *                                 be called later
   */</span>

  Vue.prototype._destroy = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">remove, deferCleanup</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isBeingDestroyed) {
      <span class="hljs-keyword">if</span> (!deferCleanup) {
        <span class="hljs-keyword">this</span>._cleanup()
      }
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">var</span> destroyReady
    <span class="hljs-keyword">var</span> pendingRemoval

    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
    <span class="hljs-comment">/* Cleanup should be called either synchronously or asynchronoysly as */</span>
    <span class="hljs-comment">/* callback of this.$remove(), or if remove and deferCleanup are false. */</span>
    <span class="hljs-comment">/* In any case it should be called after all other removing, unbinding and */</span>
    <span class="hljs-comment">/* turning of is done */</span>
    <span class="hljs-keyword">var</span> cleanupIfPossible = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (destroyReady &amp;&amp; !pendingRemoval &amp;&amp; !deferCleanup) {
        self._cleanup()
      }
    }

    <span class="hljs-comment">/* remove DOM element */</span>
    <span class="hljs-keyword">if</span> (remove &amp;&amp; <span class="hljs-keyword">this</span>.$el) {
      pendingRemoval = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.$remove(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        pendingRemoval = <span class="hljs-literal">false</span>
        cleanupIfPossible()
      })
    }

    <span class="hljs-keyword">this</span>._callHook(<span class="hljs-string">'beforeDestroy'</span>)
    <span class="hljs-keyword">this</span>._isBeingDestroyed = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">var</span> i
    <span class="hljs-comment">/* remove self from parent. only necessary */</span>
    <span class="hljs-comment">/* if parent is not being destroyed as well. */</span>
    <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.$parent
    <span class="hljs-keyword">if</span> (parent &amp;&amp; !parent._isBeingDestroyed) {
      parent.$children.$remove(<span class="hljs-keyword">this</span>)
      <span class="hljs-comment">/* unregister ref (remove: true) */</span>
      <span class="hljs-keyword">this</span>._updateRef(<span class="hljs-literal">true</span>)
    }
    <span class="hljs-comment">/* destroy all children. */</span>
    i = <span class="hljs-keyword">this</span>.$children.length
    <span class="hljs-keyword">while</span> (i--) {
      <span class="hljs-keyword">this</span>.$children[i].$destroy()
    }
    <span class="hljs-comment">/* teardown props */</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._propsUnlinkFn) {
      <span class="hljs-keyword">this</span>._propsUnlinkFn()
    }
    <span class="hljs-comment">/* teardown all directives. this also tearsdown all */</span>
    <span class="hljs-comment">/* directive-owned watchers. */</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._unlinkFn) {
      <span class="hljs-keyword">this</span>._unlinkFn()
    }
    i = <span class="hljs-keyword">this</span>._watchers.length
    <span class="hljs-keyword">while</span> (i--) {
      <span class="hljs-keyword">this</span>._watchers[i].teardown()
    }
    <span class="hljs-comment">/* remove reference to self on $el */</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$el) {
      <span class="hljs-keyword">this</span>.$el.__vue__ = <span class="hljs-literal">null</span>
    }

    destroyReady = <span class="hljs-literal">true</span>
    cleanupIfPossible()
  }

  <span class="hljs-comment">/**
   * Clean up to ensure garbage collection.
   * This is called after the leave transition if there
   * is any.
   */</span>

  Vue.prototype._cleanup = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isDestroyed) {
      <span class="hljs-keyword">return</span>
    }
    <span class="hljs-comment">/* remove self from owner fragment */</span>
    <span class="hljs-comment">/* do it in cleanup so that we can call $destroy with */</span>
    <span class="hljs-comment">/* defer right when a fragment is about to be removed. */</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._frag) {
      <span class="hljs-keyword">this</span>._frag.children.$remove(<span class="hljs-keyword">this</span>)
    }
    <span class="hljs-comment">/* remove reference from data ob */</span>
    <span class="hljs-comment">/* frozen object may not have observer. */</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._data &amp;&amp; <span class="hljs-keyword">this</span>._data.__ob__) {
      <span class="hljs-keyword">this</span>._data.__ob__.removeVm(<span class="hljs-keyword">this</span>)
    }
    <span class="hljs-comment">/* Clean up references to private properties and other */</span>
    <span class="hljs-comment">/* instances. preserve reference to _data so that proxy */</span>
    <span class="hljs-comment">/* accessors still work. The only potential side effect */</span>
    <span class="hljs-comment">/* here is that mutating the instance after it's destroyed */</span>
    <span class="hljs-comment">/* may affect the state of other components that are still */</span>
    <span class="hljs-comment">/* observing the same object, but that seems to be a */</span>
    <span class="hljs-comment">/* reasonable responsibility for the user rather than */</span>
    <span class="hljs-comment">/* always throwing an error on them. */</span>
    <span class="hljs-keyword">this</span>.$el =
    <span class="hljs-keyword">this</span>.$parent =
    <span class="hljs-keyword">this</span>.$root =
    <span class="hljs-keyword">this</span>.$children =
    <span class="hljs-keyword">this</span>._watchers =
    <span class="hljs-keyword">this</span>._context =
    <span class="hljs-keyword">this</span>._scope =
    <span class="hljs-keyword">this</span>._directives = <span class="hljs-literal">null</span>
    <span class="hljs-comment">/* call the last hook... */</span>
    <span class="hljs-keyword">this</span>._isDestroyed = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">this</span>._callHook(<span class="hljs-string">'destroyed'</span>)
    <span class="hljs-comment">/* turn off all instance listeners. */</span>
    <span class="hljs-keyword">this</span>.$off()
  }
}</pre></div>
            </div>
        </li>
        
    </ul>
</section>
</body>
</html>
