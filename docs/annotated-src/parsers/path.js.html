<!DOCTYPE html>
<html>
<head>
    <title>path</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport"
        content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_1.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_5.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/32px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/40px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/throbber.gif"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_7.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../../assets/file_8.css"/>
    

    
    <script src="../../assets/file_2.js"
        type="text/javascript"></script>
    
    <script src="../../assets/file_3.js"
        type="text/javascript"></script>
    
    <script src="../../assets/file_4.js"
        type="text/javascript"></script>
    
    <script src="../../assets/file_6.js"
        type="text/javascript"></script>
    

    <script type="application/json" id="jsTreeJSON">
        [{"id":"annotated-src/filters/array-filters.js","text":"array-filters.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../filters/array-filters.js.html"},"state":{"selected":false}},{"id":"annotated-src","text":"annotated-src","icon":"jstree-folder","parent":"#","a_attr":{"href":".."},"state":{"opened":true}},{"id":"annotated-src/cache.js","text":"cache.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../cache.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler","text":"compiler","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../compiler"},"state":{"opened":false}},{"id":"annotated-src/compiler/compile-props.js","text":"compile-props.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/compile-props.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/compile.js","text":"compile.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/compile.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/resolve-slots.js","text":"resolve-slots.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/resolve-slots.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/transclude.js","text":"transclude.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"../compiler/transclude.js.html"},"state":{"selected":false}},{"id":"annotated-src/config.js","text":"config.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../config.js.html"},"state":{"selected":false}},{"id":"annotated-src/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives","text":"directives","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../directives"},"state":{"opened":false}},{"id":"annotated-src/directives/element","text":"element","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../directives/element"},"state":{"opened":false}},{"id":"annotated-src/directives/element/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../directives/element/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/partial.js","text":"partial.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../directives/element/partial.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/slot.js","text":"slot.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"../directives/element/slot.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../directives/internal"},"state":{"opened":false}},{"id":"annotated-src/directives/internal/class.js","text":"class.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/class.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/prop.js","text":"prop.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/prop.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/style.js","text":"style.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/style.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"../directives/internal/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/priorities.js","text":"priorities.js","icon":"jstree-file","parent":"annotated-src/directives","a_attr":{"href":"../directives/priorities.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public","text":"public","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"../directives/public"},"state":{"opened":false}},{"id":"annotated-src/directives/public/bind.js","text":"bind.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/bind.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/cloak.js","text":"cloak.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/cloak.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/el.js","text":"el.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/el.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/for.js","text":"for.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/for.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/html.js","text":"html.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/html.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/if.js","text":"if.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/if.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model","text":"model","icon":"jstree-folder","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/model"},"state":{"opened":false}},{"id":"annotated-src/directives/public/model/checkbox.js","text":"checkbox.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/checkbox.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/radio.js","text":"radio.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/radio.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/select.js","text":"select.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/select.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"../directives/public/model/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/on.js","text":"on.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/on.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/ref.js","text":"ref.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/ref.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/show.js","text":"show.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/show.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"../directives/public/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters","text":"filters","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../filters"},"state":{"opened":false}},{"id":"annotated-src/batcher.js","text":"batcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../batcher.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"../filters/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment","text":"fragment","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../fragment"},"state":{"opened":false}},{"id":"annotated-src/fragment/factory.js","text":"factory.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../fragment/factory.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment/fragment.js","text":"fragment.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"../fragment/fragment.js.html"},"state":{"selected":false}},{"id":"annotated-src/global-api.js","text":"global-api.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../global-api.js.html"},"state":{"selected":false}},{"id":"annotated-src/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../index.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance","text":"instance","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../instance"},"state":{"opened":false}},{"id":"annotated-src/instance/api","text":"api","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"../instance/api"},"state":{"opened":false}},{"id":"annotated-src/instance/api/data.js","text":"data.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/data.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"../instance/api/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"../instance/internal"},"state":{"opened":false}},{"id":"annotated-src/instance/internal/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/init.js","text":"init.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/init.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/misc.js","text":"misc.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/misc.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/state.js","text":"state.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"../instance/internal/state.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/vue.js","text":"vue.js","icon":"jstree-file","parent":"annotated-src/instance","a_attr":{"href":"../instance/vue.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer","text":"observer","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../observer"},"state":{"opened":false}},{"id":"annotated-src/observer/array.js","text":"array.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../observer/array.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/dep.js","text":"dep.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../observer/dep.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"../observer/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers","text":"parsers","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"."},"state":{"opened":true}},{"id":"annotated-src/parsers/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/expression.js","text":"expression.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"expression.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/path.js","text":"path.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"path.js.html"},"state":{"selected":true}},{"id":"annotated-src/parsers/template.js","text":"template.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"template.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"text.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition","text":"transition","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../transition"},"state":{"opened":false}},{"id":"annotated-src/transition/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../transition/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/queue.js","text":"queue.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../transition/queue.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"../transition/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/util","text":"util","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"../util"},"state":{"opened":false}},{"id":"annotated-src/util/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/debug.js","text":"debug.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/debug.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/env.js","text":"env.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/env.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/lang.js","text":"lang.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/lang.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/options.js","text":"options.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"../util/options.js.html"},"state":{"selected":false}},{"id":"annotated-src/watcher.js","text":"watcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"../watcher.js.html"},"state":{"selected":false}}]
    </script>
</head>
<body class="markdown-body">
<h1>
    path
</h1>
<div class="subHeading">
    annotated-src/parsers/path.js
</div>
<button type="button" class="navigatorToggle">&#9776; files...</button>
<nav class="navigationTree minimized">
    <input type="text" id="jsTreeSearch" placeholder="search..."/>
    <div></div>
</nav>
<section>
    <ul class="sectionDetails codeOnly">
        
        
        <li id="section-1">
            <div class="annotation">
                
            </div><div class="content">
                <div class="highlight"><pre><span class="hljs-keyword">import</span> { parseExpression } <span class="hljs-keyword">from</span> <span class="hljs-string">'./expression'</span>
<span class="hljs-keyword">import</span> {
  isLiteral,
  stripQuotes,
  isObject,
  isArray,
  warn,
  set
} <span class="hljs-keyword">from</span> <span class="hljs-string">'../util/index'</span>
<span class="hljs-keyword">import</span> Cache <span class="hljs-keyword">from</span> <span class="hljs-string">'../cache'</span>

<span class="hljs-keyword">var</span> pathCache = <span class="hljs-keyword">new</span> Cache(<span class="hljs-number">1000</span>)

<span class="hljs-comment">/* actions */</span>
<span class="hljs-keyword">var</span> APPEND = <span class="hljs-number">0</span>
<span class="hljs-keyword">var</span> PUSH = <span class="hljs-number">1</span>
<span class="hljs-keyword">var</span> INC_SUB_PATH_DEPTH = <span class="hljs-number">2</span>
<span class="hljs-keyword">var</span> PUSH_SUB_PATH = <span class="hljs-number">3</span>

<span class="hljs-comment">/* states */</span>
<span class="hljs-keyword">var</span> BEFORE_PATH = <span class="hljs-number">0</span>
<span class="hljs-keyword">var</span> IN_PATH = <span class="hljs-number">1</span>
<span class="hljs-keyword">var</span> BEFORE_IDENT = <span class="hljs-number">2</span>
<span class="hljs-keyword">var</span> IN_IDENT = <span class="hljs-number">3</span>
<span class="hljs-keyword">var</span> IN_SUB_PATH = <span class="hljs-number">4</span>
<span class="hljs-keyword">var</span> IN_SINGLE_QUOTE = <span class="hljs-number">5</span>
<span class="hljs-keyword">var</span> IN_DOUBLE_QUOTE = <span class="hljs-number">6</span>
<span class="hljs-keyword">var</span> AFTER_PATH = <span class="hljs-number">7</span>
<span class="hljs-keyword">var</span> ERROR = <span class="hljs-number">8</span>

<span class="hljs-keyword">var</span> pathStateMachine = []

pathStateMachine[BEFORE_PATH] = {
  <span class="hljs-string">'ws'</span>: [BEFORE_PATH],
  <span class="hljs-string">'ident'</span>: [IN_IDENT, APPEND],
  <span class="hljs-string">'['</span>: [IN_SUB_PATH],
  <span class="hljs-string">'eof'</span>: [AFTER_PATH]
}

pathStateMachine[IN_PATH] = {
  <span class="hljs-string">'ws'</span>: [IN_PATH],
  <span class="hljs-string">'.'</span>: [BEFORE_IDENT],
  <span class="hljs-string">'['</span>: [IN_SUB_PATH],
  <span class="hljs-string">'eof'</span>: [AFTER_PATH]
}

pathStateMachine[BEFORE_IDENT] = {
  <span class="hljs-string">'ws'</span>: [BEFORE_IDENT],
  <span class="hljs-string">'ident'</span>: [IN_IDENT, APPEND]
}

pathStateMachine[IN_IDENT] = {
  <span class="hljs-string">'ident'</span>: [IN_IDENT, APPEND],
  <span class="hljs-string">'0'</span>: [IN_IDENT, APPEND],
  <span class="hljs-string">'number'</span>: [IN_IDENT, APPEND],
  <span class="hljs-string">'ws'</span>: [IN_PATH, PUSH],
  <span class="hljs-string">'.'</span>: [BEFORE_IDENT, PUSH],
  <span class="hljs-string">'['</span>: [IN_SUB_PATH, PUSH],
  <span class="hljs-string">'eof'</span>: [AFTER_PATH, PUSH]
}

pathStateMachine[IN_SUB_PATH] = {
  <span class="hljs-string">"'"</span>: [IN_SINGLE_QUOTE, APPEND],
  <span class="hljs-string">'"'</span>: [IN_DOUBLE_QUOTE, APPEND],
  <span class="hljs-string">'['</span>: [IN_SUB_PATH, INC_SUB_PATH_DEPTH],
  <span class="hljs-string">']'</span>: [IN_PATH, PUSH_SUB_PATH],
  <span class="hljs-string">'eof'</span>: ERROR,
  <span class="hljs-string">'else'</span>: [IN_SUB_PATH, APPEND]
}

pathStateMachine[IN_SINGLE_QUOTE] = {
  <span class="hljs-string">"'"</span>: [IN_SUB_PATH, APPEND],
  <span class="hljs-string">'eof'</span>: ERROR,
  <span class="hljs-string">'else'</span>: [IN_SINGLE_QUOTE, APPEND]
}

pathStateMachine[IN_DOUBLE_QUOTE] = {
  <span class="hljs-string">'"'</span>: [IN_SUB_PATH, APPEND],
  <span class="hljs-string">'eof'</span>: ERROR,
  <span class="hljs-string">'else'</span>: [IN_DOUBLE_QUOTE, APPEND]
}

<span class="hljs-comment">/**
 * Determine the type of a character in a keypath.
 *
 * @param {Char} ch
 * @return {String} type
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPathCharType</span> (<span class="hljs-params">ch</span>) </span>{
  <span class="hljs-keyword">if</span> (ch === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'eof'</span>
  }

  <span class="hljs-keyword">var</span> code = ch.charCodeAt(<span class="hljs-number">0</span>)

  <span class="hljs-keyword">switch</span> (code) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x5B</span>: <span class="hljs-comment">/* [ */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x5D</span>: <span class="hljs-comment">/* ] */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x2E</span>: <span class="hljs-comment">/* . */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x22</span>: <span class="hljs-comment">/* " */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x27</span>: <span class="hljs-comment">/* ' */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x30</span>: <span class="hljs-comment">/* 0 */</span>
      <span class="hljs-keyword">return</span> ch

    <span class="hljs-keyword">case</span> <span class="hljs-number">0x5F</span>: <span class="hljs-comment">/* _ */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x24</span>: <span class="hljs-comment">/* $ */</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">'ident'</span>

    <span class="hljs-keyword">case</span> <span class="hljs-number">0x20</span>: <span class="hljs-comment">/* Space */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x09</span>: <span class="hljs-comment">/* Tab */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x0A</span>: <span class="hljs-comment">/* Newline */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x0D</span>: <span class="hljs-comment">/* Return */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0xA0</span>:  <span class="hljs-comment">/* No-break space */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0xFEFF</span>:  <span class="hljs-comment">/* Byte Order Mark */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x2028</span>:  <span class="hljs-comment">/* Line Separator */</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">0x2029</span>:  <span class="hljs-comment">/* Paragraph Separator */</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">'ws'</span>
  }

  <span class="hljs-comment">/* a-z, A-Z */</span>
  <span class="hljs-keyword">if</span> (
    (code &gt;= <span class="hljs-number">0x61</span> &amp;&amp; code &lt;= <span class="hljs-number">0x7A</span>) ||
    (code &gt;= <span class="hljs-number">0x41</span> &amp;&amp; code &lt;= <span class="hljs-number">0x5A</span>)
  ) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'ident'</span>
  }

  <span class="hljs-comment">/* 1-9 */</span>
  <span class="hljs-keyword">if</span> (code &gt;= <span class="hljs-number">0x31</span> &amp;&amp; code &lt;= <span class="hljs-number">0x39</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'number'</span>
  }

  <span class="hljs-keyword">return</span> <span class="hljs-string">'else'</span>
}

<span class="hljs-comment">/**
 * Format a subPath, return its plain form if it is
 * a literal string or number. Otherwise prepend the
 * dynamic indicator (*).
 *
 * @param {String} path
 * @return {String}
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatSubPath</span> (<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">var</span> trimmed = path.trim()
  <span class="hljs-comment">/* invalid leading 0 */</span>
  <span class="hljs-keyword">if</span> (path.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'0'</span> &amp;&amp; <span class="hljs-built_in">isNaN</span>(path)) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
  <span class="hljs-keyword">return</span> isLiteral(trimmed)
    ? stripQuotes(trimmed)
    : <span class="hljs-string">'*'</span> + trimmed
}

<span class="hljs-comment">/**
 * Parse a string path into an array of segments
 *
 * @param {String} path
 * @return {Array|undefined}
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span> (<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">var</span> keys = []
  <span class="hljs-keyword">var</span> index = <span class="hljs-number">-1</span>
  <span class="hljs-keyword">var</span> mode = BEFORE_PATH
  <span class="hljs-keyword">var</span> subPathDepth = <span class="hljs-number">0</span>
  <span class="hljs-keyword">var</span> c, newChar, key, type, transition, action, typeMap

  <span class="hljs-keyword">var</span> actions = []

  actions[PUSH] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (key !== <span class="hljs-literal">undefined</span>) {
      keys.push(key)
      key = <span class="hljs-literal">undefined</span>
    }
  }

  actions[APPEND] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (key === <span class="hljs-literal">undefined</span>) {
      key = newChar
    } <span class="hljs-keyword">else</span> {
      key += newChar
    }
  }

  actions[INC_SUB_PATH_DEPTH] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    actions[APPEND]()
    subPathDepth++
  }

  actions[PUSH_SUB_PATH] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (subPathDepth &gt; <span class="hljs-number">0</span>) {
      subPathDepth--
      mode = IN_SUB_PATH
      actions[APPEND]()
    } <span class="hljs-keyword">else</span> {
      subPathDepth = <span class="hljs-number">0</span>
      key = formatSubPath(key)
      <span class="hljs-keyword">if</span> (key === <span class="hljs-literal">false</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
      } <span class="hljs-keyword">else</span> {
        actions[PUSH]()
      }
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">maybeUnescapeQuote</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> nextChar = path[index + <span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> ((mode === IN_SINGLE_QUOTE &amp;&amp; nextChar === <span class="hljs-string">"'"</span>) ||
        (mode === IN_DOUBLE_QUOTE &amp;&amp; nextChar === <span class="hljs-string">'"'</span>)) {
      index++
      newChar = <span class="hljs-string">'\\'</span> + nextChar
      actions[APPEND]()
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
  }

  <span class="hljs-keyword">while</span> (mode != <span class="hljs-literal">null</span>) {
    index++
    c = path[index]

    <span class="hljs-keyword">if</span> (c === <span class="hljs-string">'\\'</span> &amp;&amp; maybeUnescapeQuote()) {
      <span class="hljs-keyword">continue</span>
    }

    type = getPathCharType(c)
    typeMap = pathStateMachine[mode]
    transition = typeMap[type] || typeMap[<span class="hljs-string">'else'</span>] || ERROR

    <span class="hljs-keyword">if</span> (transition === ERROR) {
      <span class="hljs-keyword">return</span> <span class="hljs-comment">/* parse error */</span>
    }

    mode = transition[<span class="hljs-number">0</span>]
    action = actions[transition[<span class="hljs-number">1</span>]]
    <span class="hljs-keyword">if</span> (action) {
      newChar = transition[<span class="hljs-number">2</span>]
      newChar = newChar === <span class="hljs-literal">undefined</span>
        ? c
        : newChar
      <span class="hljs-keyword">if</span> (action() === <span class="hljs-literal">false</span>) {
        <span class="hljs-keyword">return</span>
      }
    }

    <span class="hljs-keyword">if</span> (mode === AFTER_PATH) {
      keys.raw = path
      <span class="hljs-keyword">return</span> keys
    }
  }
}

<span class="hljs-comment">/**
 * External parse that check for a cache hit first
 *
 * @param {String} path
 * @return {Array|undefined}
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsePath</span> (<span class="hljs-params">path</span>) </span>{
  <span class="hljs-keyword">var</span> hit = pathCache.get(path)
  <span class="hljs-keyword">if</span> (!hit) {
    hit = parse(path)
    <span class="hljs-keyword">if</span> (hit) {
      pathCache.put(path, hit)
    }
  }
  <span class="hljs-keyword">return</span> hit
}

<span class="hljs-comment">/**
 * Get from an object from a path string
 *
 * @param {Object} obj
 * @param {String} path
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPath</span> (<span class="hljs-params">obj, path</span>) </span>{
  <span class="hljs-keyword">return</span> parseExpression(path).get(obj)
}

<span class="hljs-comment">/**
 * Warn against setting non-existent root path on a vm.
 */</span>

<span class="hljs-keyword">var</span> warnNonExistent
<span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span>) {
  warnNonExistent = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">path, vm</span>) </span>{
    warn(
      <span class="hljs-string">'You are setting a non-existent path "'</span> + path.raw + <span class="hljs-string">'" '</span> +
      <span class="hljs-string">'on a vm instance. Consider pre-initializing the property '</span> +
      <span class="hljs-string">'with the "data" option for more reliable reactivity '</span> +
      <span class="hljs-string">'and better performance.'</span>,
      vm
    )
  }
}

<span class="hljs-comment">/**
 * Set on an object from a path
 *
 * @param {Object} obj
 * @param {String | Array} path
 * @param {*} val
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPath</span> (<span class="hljs-params">obj, path, val</span>) </span>{
  <span class="hljs-keyword">var</span> original = obj
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> path === <span class="hljs-string">'string'</span>) {
    path = parse(path)
  }
  <span class="hljs-keyword">if</span> (!path || !isObject(obj)) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
  <span class="hljs-keyword">var</span> last, key
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = path.length; i &lt; l; i++) {
    last = obj
    key = path[i]
    <span class="hljs-keyword">if</span> (key.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'*'</span>) {
      key = parseExpression(key.slice(<span class="hljs-number">1</span>)).get.call(original, original)
    }
    <span class="hljs-keyword">if</span> (i &lt; l - <span class="hljs-number">1</span>) {
      obj = obj[key]
      <span class="hljs-keyword">if</span> (!isObject(obj)) {
        obj = {}
        <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; last._isVue) {
          warnNonExistent(path, last)
        }
        set(last, key, obj)
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (isArray(obj)) {
        obj.$set(key, val)
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key <span class="hljs-keyword">in</span> obj) {
        obj[key] = val
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; obj._isVue) {
          warnNonExistent(path, obj)
        }
        set(obj, key, val)
      }
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}</pre></div>
            </div>
        </li>
        
    </ul>
</section>
</body>
</html>
