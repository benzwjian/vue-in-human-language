<!DOCTYPE html>
<html>
<head>
    <title>directive</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport"
        content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    
    <link rel="stylesheet"
        media="all"
        href="../assets/file_1.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../assets/file_5.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../assets/32px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../assets/40px.png"/>
    
    <link rel="stylesheet"
        media="all"
        href="../assets/throbber.gif"/>
    
    <link rel="stylesheet"
        media="all"
        href="../assets/file_7.css"/>
    
    <link rel="stylesheet"
        media="all"
        href="../assets/file_8.css"/>
    

    
    <script src="../assets/file_2.js"
        type="text/javascript"></script>
    
    <script src="../assets/file_3.js"
        type="text/javascript"></script>
    
    <script src="../assets/file_4.js"
        type="text/javascript"></script>
    
    <script src="../assets/file_6.js"
        type="text/javascript"></script>
    

    <script type="application/json" id="jsTreeJSON">
        [{"id":"annotated-src/filters/array-filters.js","text":"array-filters.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"filters/array-filters.js.html"},"state":{"selected":false}},{"id":"annotated-src","text":"annotated-src","icon":"jstree-folder","parent":"#","a_attr":{"href":"."},"state":{"opened":true}},{"id":"annotated-src/cache.js","text":"cache.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"cache.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler","text":"compiler","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"compiler"},"state":{"opened":false}},{"id":"annotated-src/compiler/compile-props.js","text":"compile-props.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"compiler/compile-props.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/compile.js","text":"compile.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"compiler/compile.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"compiler/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/resolve-slots.js","text":"resolve-slots.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"compiler/resolve-slots.js.html"},"state":{"selected":false}},{"id":"annotated-src/compiler/transclude.js","text":"transclude.js","icon":"jstree-file","parent":"annotated-src/compiler","a_attr":{"href":"compiler/transclude.js.html"},"state":{"selected":false}},{"id":"annotated-src/config.js","text":"config.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"config.js.html"},"state":{"selected":false}},{"id":"annotated-src/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"directive.js.html"},"state":{"selected":true}},{"id":"annotated-src/directives","text":"directives","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"directives"},"state":{"opened":false}},{"id":"annotated-src/directives/element","text":"element","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"directives/element"},"state":{"opened":false}},{"id":"annotated-src/directives/element/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"directives/element/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/partial.js","text":"partial.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"directives/element/partial.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/element/slot.js","text":"slot.js","icon":"jstree-file","parent":"annotated-src/directives/element","a_attr":{"href":"directives/element/slot.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"directives/internal"},"state":{"opened":false}},{"id":"annotated-src/directives/internal/class.js","text":"class.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"directives/internal/class.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"directives/internal/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"directives/internal/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/prop.js","text":"prop.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"directives/internal/prop.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/style.js","text":"style.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"directives/internal/style.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/internal/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/directives/internal","a_attr":{"href":"directives/internal/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/priorities.js","text":"priorities.js","icon":"jstree-file","parent":"annotated-src/directives","a_attr":{"href":"directives/priorities.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public","text":"public","icon":"jstree-folder","parent":"annotated-src/directives","a_attr":{"href":"directives/public"},"state":{"opened":false}},{"id":"annotated-src/directives/public/bind.js","text":"bind.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/bind.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/cloak.js","text":"cloak.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/cloak.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/el.js","text":"el.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/el.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/for.js","text":"for.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/for.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/html.js","text":"html.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/html.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/if.js","text":"if.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/if.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model","text":"model","icon":"jstree-folder","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/model"},"state":{"opened":false}},{"id":"annotated-src/directives/public/model/checkbox.js","text":"checkbox.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"directives/public/model/checkbox.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"directives/public/model/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/radio.js","text":"radio.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"directives/public/model/radio.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/select.js","text":"select.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"directives/public/model/select.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/model/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public/model","a_attr":{"href":"directives/public/model/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/on.js","text":"on.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/on.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/ref.js","text":"ref.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/ref.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/show.js","text":"show.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/show.js.html"},"state":{"selected":false}},{"id":"annotated-src/directives/public/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/directives/public","a_attr":{"href":"directives/public/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters","text":"filters","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"filters"},"state":{"opened":false}},{"id":"annotated-src/batcher.js","text":"batcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"batcher.js.html"},"state":{"selected":false}},{"id":"annotated-src/filters/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/filters","a_attr":{"href":"filters/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment","text":"fragment","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"fragment"},"state":{"opened":false}},{"id":"annotated-src/fragment/factory.js","text":"factory.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"fragment/factory.js.html"},"state":{"selected":false}},{"id":"annotated-src/fragment/fragment.js","text":"fragment.js","icon":"jstree-file","parent":"annotated-src/fragment","a_attr":{"href":"fragment/fragment.js.html"},"state":{"selected":false}},{"id":"annotated-src/global-api.js","text":"global-api.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"global-api.js.html"},"state":{"selected":false}},{"id":"annotated-src/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"index.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance","text":"instance","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"instance"},"state":{"opened":false}},{"id":"annotated-src/instance/api","text":"api","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"instance/api"},"state":{"opened":false}},{"id":"annotated-src/instance/api/data.js","text":"data.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"instance/api/data.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"instance/api/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"instance/api/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/api/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/api","a_attr":{"href":"instance/api/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal","text":"internal","icon":"jstree-folder","parent":"annotated-src/instance","a_attr":{"href":"instance/internal"},"state":{"opened":false}},{"id":"annotated-src/instance/internal/events.js","text":"events.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"instance/internal/events.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/init.js","text":"init.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"instance/internal/init.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/lifecycle.js","text":"lifecycle.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"instance/internal/lifecycle.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/misc.js","text":"misc.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"instance/internal/misc.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/internal/state.js","text":"state.js","icon":"jstree-file","parent":"annotated-src/instance/internal","a_attr":{"href":"instance/internal/state.js.html"},"state":{"selected":false}},{"id":"annotated-src/instance/vue.js","text":"vue.js","icon":"jstree-file","parent":"annotated-src/instance","a_attr":{"href":"instance/vue.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer","text":"observer","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"observer"},"state":{"opened":false}},{"id":"annotated-src/observer/array.js","text":"array.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"observer/array.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/dep.js","text":"dep.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"observer/dep.js.html"},"state":{"selected":false}},{"id":"annotated-src/observer/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/observer","a_attr":{"href":"observer/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers","text":"parsers","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"parsers"},"state":{"opened":false}},{"id":"annotated-src/parsers/directive.js","text":"directive.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"parsers/directive.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/expression.js","text":"expression.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"parsers/expression.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/path.js","text":"path.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"parsers/path.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/template.js","text":"template.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"parsers/template.js.html"},"state":{"selected":false}},{"id":"annotated-src/parsers/text.js","text":"text.js","icon":"jstree-file","parent":"annotated-src/parsers","a_attr":{"href":"parsers/text.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition","text":"transition","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"transition"},"state":{"opened":false}},{"id":"annotated-src/transition/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"transition/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/queue.js","text":"queue.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"transition/queue.js.html"},"state":{"selected":false}},{"id":"annotated-src/transition/transition.js","text":"transition.js","icon":"jstree-file","parent":"annotated-src/transition","a_attr":{"href":"transition/transition.js.html"},"state":{"selected":false}},{"id":"annotated-src/util","text":"util","icon":"jstree-folder","parent":"annotated-src","a_attr":{"href":"util"},"state":{"opened":false}},{"id":"annotated-src/util/component.js","text":"component.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/component.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/debug.js","text":"debug.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/debug.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/dom.js","text":"dom.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/dom.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/env.js","text":"env.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/env.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/index.js","text":"index.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/index.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/lang.js","text":"lang.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/lang.js.html"},"state":{"selected":false}},{"id":"annotated-src/util/options.js","text":"options.js","icon":"jstree-file","parent":"annotated-src/util","a_attr":{"href":"util/options.js.html"},"state":{"selected":false}},{"id":"annotated-src/watcher.js","text":"watcher.js","icon":"jstree-file","parent":"annotated-src","a_attr":{"href":"watcher.js.html"},"state":{"selected":false}}]
    </script>
</head>
<body class="markdown-body">
<h1>
    directive
</h1>
<div class="subHeading">
    annotated-src/directive.js
</div>
<button type="button" class="navigatorToggle">&#9776; files...</button>
<nav class="navigationTree minimized">
    <input type="text" id="jsTreeSearch" placeholder="search..."/>
    <div></div>
</nav>
<section>
    <ul class="sectionDetails codeOnly">
        
        
        <li id="section-1">
            <div class="annotation">
                
            </div><div class="content">
                <div class="highlight"><pre><span class="hljs-keyword">import</span> {
  extend,
  bind,
  on,
  off,
  getAttr,
  getBindAttr,
  camelize,
  hyphenate,
  nextTick,
  warn
} <span class="hljs-keyword">from</span> <span class="hljs-string">'./util/index'</span>
<span class="hljs-keyword">import</span> Watcher <span class="hljs-keyword">from</span> <span class="hljs-string">'./watcher'</span>
<span class="hljs-keyword">import</span> { parseExpression, isSimplePath } <span class="hljs-keyword">from</span> <span class="hljs-string">'./parsers/expression'</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">noop</span> (<span class="hljs-params"></span>) </span>{}

<span class="hljs-comment">/**
 * A directive links a DOM element with a piece of data,
 * which is the result of evaluating an expression.
 * It registers a watcher with the expression and calls
 * the DOM update function when a change is triggered.
 *
 * @param {Object} descriptor
 *                 - {String} name
 *                 - {Object} def
 *                 - {String} expression
 *                 - {Array&lt;Object&gt;} [filters]
 *                 - {Object} [modifiers]
 *                 - {Boolean} literal
 *                 - {String} attr
 *                 - {String} arg
 *                 - {String} raw
 *                 - {String} [ref]
 *                 - {Array&lt;Object&gt;} [interp]
 *                 - {Boolean} [hasOneTime]
 * @param {Vue} vm
 * @param {Node} el
 * @param {Vue} [host] - transclusion host component
 * @param {Object} [scope] - v-for scope
 * @param {Fragment} [frag] - owner fragment
 * @constructor
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Directive</span> (<span class="hljs-params">descriptor, vm, el, host, scope, frag</span>) </span>{
  <span class="hljs-keyword">this</span>.vm = vm
  <span class="hljs-keyword">this</span>.el = el
  <span class="hljs-comment">/* copy descriptor properties */</span>
  <span class="hljs-keyword">this</span>.descriptor = descriptor
  <span class="hljs-keyword">this</span>.name = descriptor.name
  <span class="hljs-keyword">this</span>.expression = descriptor.expression
  <span class="hljs-keyword">this</span>.arg = descriptor.arg
  <span class="hljs-keyword">this</span>.modifiers = descriptor.modifiers
  <span class="hljs-keyword">this</span>.filters = descriptor.filters
  <span class="hljs-keyword">this</span>.literal = <span class="hljs-keyword">this</span>.modifiers &amp;&amp; <span class="hljs-keyword">this</span>.modifiers.literal
  <span class="hljs-comment">/* private */</span>
  <span class="hljs-keyword">this</span>._locked = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>._bound = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">this</span>._listeners = <span class="hljs-literal">null</span>
  <span class="hljs-comment">/* link context */</span>
  <span class="hljs-keyword">this</span>._host = host
  <span class="hljs-keyword">this</span>._scope = scope
  <span class="hljs-keyword">this</span>._frag = frag
  <span class="hljs-comment">/* store directives on node in dev mode */</span>
  <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; <span class="hljs-keyword">this</span>.el) {
    <span class="hljs-keyword">this</span>.el._vue_directives = <span class="hljs-keyword">this</span>.el._vue_directives || []
    <span class="hljs-keyword">this</span>.el._vue_directives.push(<span class="hljs-keyword">this</span>)
  }
}

<span class="hljs-comment">/**
 * Initialize the directive, mixin definition properties,
 * setup the watcher, call definition bind() and update()
 * if present.
 */</span>

Directive.prototype._bind = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> name = <span class="hljs-keyword">this</span>.name
  <span class="hljs-keyword">var</span> descriptor = <span class="hljs-keyword">this</span>.descriptor

  <span class="hljs-comment">/* remove attribute */</span>
  <span class="hljs-keyword">if</span> (
    (name !== <span class="hljs-string">'cloak'</span> || <span class="hljs-keyword">this</span>.vm._isCompiled) &amp;&amp;
    <span class="hljs-keyword">this</span>.el &amp;&amp; <span class="hljs-keyword">this</span>.el.removeAttribute
  ) {
    <span class="hljs-keyword">var</span> attr = descriptor.attr || (<span class="hljs-string">'v-'</span> + name)
    <span class="hljs-keyword">this</span>.el.removeAttribute(attr)
  }

  <span class="hljs-comment">/* copy def properties */</span>
  <span class="hljs-keyword">var</span> def = descriptor.def
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> def === <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">this</span>.update = def
  } <span class="hljs-keyword">else</span> {
    extend(<span class="hljs-keyword">this</span>, def)
  }

  <span class="hljs-comment">/* setup directive params */</span>
  <span class="hljs-keyword">this</span>._setupParams()

  <span class="hljs-comment">/* initial bind */</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.bind) {
    <span class="hljs-keyword">this</span>.bind()
  }
  <span class="hljs-keyword">this</span>._bound = <span class="hljs-literal">true</span>

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.literal) {
    <span class="hljs-keyword">this</span>.update &amp;&amp; <span class="hljs-keyword">this</span>.update(descriptor.raw)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (
    (<span class="hljs-keyword">this</span>.expression || <span class="hljs-keyword">this</span>.modifiers) &amp;&amp;
    (<span class="hljs-keyword">this</span>.update || <span class="hljs-keyword">this</span>.twoWay) &amp;&amp;
    !<span class="hljs-keyword">this</span>._checkStatement()
  ) {
    <span class="hljs-comment">/* wrapped updater for context */</span>
    <span class="hljs-keyword">var</span> dir = <span class="hljs-keyword">this</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.update) {
      <span class="hljs-keyword">this</span>._update = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val, oldVal</span>) </span>{
        <span class="hljs-keyword">if</span> (!dir._locked) {
          dir.update(val, oldVal)
        }
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>._update = noop
    }
    <span class="hljs-keyword">var</span> preProcess = <span class="hljs-keyword">this</span>._preProcess
      ? bind(<span class="hljs-keyword">this</span>._preProcess, <span class="hljs-keyword">this</span>)
      : <span class="hljs-literal">null</span>
    <span class="hljs-keyword">var</span> postProcess = <span class="hljs-keyword">this</span>._postProcess
      ? bind(<span class="hljs-keyword">this</span>._postProcess, <span class="hljs-keyword">this</span>)
      : <span class="hljs-literal">null</span>
    <span class="hljs-keyword">var</span> watcher = <span class="hljs-keyword">this</span>._watcher = <span class="hljs-keyword">new</span> Watcher(
      <span class="hljs-keyword">this</span>.vm,
      <span class="hljs-keyword">this</span>.expression,
      <span class="hljs-keyword">this</span>._update, <span class="hljs-comment">/* callback */</span>
      {
        filters: <span class="hljs-keyword">this</span>.filters,
        twoWay: <span class="hljs-keyword">this</span>.twoWay,
        deep: <span class="hljs-keyword">this</span>.deep,
        preProcess: preProcess,
        postProcess: postProcess,
        scope: <span class="hljs-keyword">this</span>._scope
      }
    )
    <span class="hljs-comment">/* v-model with inital inline value need to sync back to */</span>
    <span class="hljs-comment">/* model instead of update to DOM on init. They would */</span>
    <span class="hljs-comment">/* set the afterBind hook to indicate that. */</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.afterBind) {
      <span class="hljs-keyword">this</span>.afterBind()
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.update) {
      <span class="hljs-keyword">this</span>.update(watcher.value)
    }
  }
}

<span class="hljs-comment">/**
 * Setup all param attributes, e.g. track-by,
 * transition-mode, etc...
 */</span>

Directive.prototype._setupParams = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.params) {
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-keyword">var</span> params = <span class="hljs-keyword">this</span>.params
  <span class="hljs-comment">/* swap the params array with a fresh object. */</span>
  <span class="hljs-keyword">this</span>.params = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>)
  <span class="hljs-keyword">var</span> i = params.length
  <span class="hljs-keyword">var</span> key, val, mappedKey
  <span class="hljs-keyword">while</span> (i--) {
    key = hyphenate(params[i])
    mappedKey = camelize(key)
    val = getBindAttr(<span class="hljs-keyword">this</span>.el, key)
    <span class="hljs-keyword">if</span> (val != <span class="hljs-literal">null</span>) {
      <span class="hljs-comment">/* dynamic */</span>
      <span class="hljs-keyword">this</span>._setupParamWatcher(mappedKey, val)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">/* static */</span>
      val = getAttr(<span class="hljs-keyword">this</span>.el, key)
      <span class="hljs-keyword">if</span> (val != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">this</span>.params[mappedKey] = val === <span class="hljs-string">''</span> ? <span class="hljs-literal">true</span> : val
      }
    }
  }
}

<span class="hljs-comment">/**
 * Setup a watcher for a dynamic param.
 *
 * @param {String} key
 * @param {String} expression
 */</span>

Directive.prototype._setupParamWatcher = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, expression</span>) </span>{
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
  <span class="hljs-keyword">var</span> called = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">var</span> unwatch = (<span class="hljs-keyword">this</span>._scope || <span class="hljs-keyword">this</span>.vm).$watch(expression, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val, oldVal</span>) </span>{
    self.params[key] = val
    <span class="hljs-comment">/* since we are in immediate mode, */</span>
    <span class="hljs-comment">/* only call the param change callbacks if this is not the first update. */</span>
    <span class="hljs-keyword">if</span> (called) {
      <span class="hljs-keyword">var</span> cb = self.paramWatchers &amp;&amp; self.paramWatchers[key]
      <span class="hljs-keyword">if</span> (cb) {
        cb.call(self, val, oldVal)
      }
    } <span class="hljs-keyword">else</span> {
      called = <span class="hljs-literal">true</span>
    }
  }, {
    immediate: <span class="hljs-literal">true</span>,
    user: <span class="hljs-literal">false</span>
  })
  ;(<span class="hljs-keyword">this</span>._paramUnwatchFns || (<span class="hljs-keyword">this</span>._paramUnwatchFns = [])).push(unwatch)
}

<span class="hljs-comment">/**
 * Check if the directive is a function caller
 * and if the expression is a callable one. If both true,
 * we wrap up the expression and use it as the event
 * handler.
 *
 * e.g. on-click="a++"
 *
 * @return {Boolean}
 */</span>

Directive.prototype._checkStatement = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> expression = <span class="hljs-keyword">this</span>.expression
  <span class="hljs-keyword">if</span> (
    expression &amp;&amp; <span class="hljs-keyword">this</span>.acceptStatement &amp;&amp;
    !isSimplePath(expression)
  ) {
    <span class="hljs-keyword">var</span> fn = parseExpression(expression).get
    <span class="hljs-keyword">var</span> scope = <span class="hljs-keyword">this</span>._scope || <span class="hljs-keyword">this</span>.vm
    <span class="hljs-keyword">var</span> handler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
      scope.$event = e
      fn.call(scope, scope)
      scope.$event = <span class="hljs-literal">null</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.filters) {
      handler = scope._applyFilters(handler, <span class="hljs-literal">null</span>, <span class="hljs-keyword">this</span>.filters)
    }
    <span class="hljs-keyword">this</span>.update(handler)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  }
}

<span class="hljs-comment">/**
 * Set the corresponding value with the setter.
 * This should only be used in two-way directives
 * e.g. v-model.
 *
 * @param {*} value
 * @public
 */</span>

Directive.prototype.set = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
  <span class="hljs-comment">/* istanbul ignore else */</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.twoWay) {
    <span class="hljs-keyword">this</span>._withLock(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">this</span>._watcher.set(value)
    })
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span>) {
    warn(
      <span class="hljs-string">'Directive.set() can only be used inside twoWay'</span> +
      <span class="hljs-string">'directives.'</span>
    )
  }
}

<span class="hljs-comment">/**
 * Execute a function while preventing that function from
 * triggering updates on this directive instance.
 *
 * @param {Function} fn
 */</span>

Directive.prototype._withLock = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fn</span>) </span>{
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>
  self._locked = <span class="hljs-literal">true</span>
  fn.call(self)
  nextTick(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    self._locked = <span class="hljs-literal">false</span>
  })
}

<span class="hljs-comment">/**
 * Convenience method that attaches a DOM event listener
 * to the directive element and autometically tears it down
 * during unbind.
 *
 * @param {String} event
 * @param {Function} handler
 * @param {Boolean} [useCapture]
 */</span>

Directive.prototype.on = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event, handler, useCapture</span>) </span>{
  on(<span class="hljs-keyword">this</span>.el, event, handler, useCapture)
  ;(<span class="hljs-keyword">this</span>._listeners || (<span class="hljs-keyword">this</span>._listeners = []))
    .push([event, handler])
}

<span class="hljs-comment">/**
 * Teardown the watcher and call unbind.
 */</span>

Directive.prototype._teardown = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._bound) {
    <span class="hljs-keyword">this</span>._bound = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.unbind) {
      <span class="hljs-keyword">this</span>.unbind()
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._watcher) {
      <span class="hljs-keyword">this</span>._watcher.teardown()
    }
    <span class="hljs-keyword">var</span> listeners = <span class="hljs-keyword">this</span>._listeners
    <span class="hljs-keyword">var</span> i
    <span class="hljs-keyword">if</span> (listeners) {
      i = listeners.length
      <span class="hljs-keyword">while</span> (i--) {
        off(<span class="hljs-keyword">this</span>.el, listeners[i][<span class="hljs-number">0</span>], listeners[i][<span class="hljs-number">1</span>])
      }
    }
    <span class="hljs-keyword">var</span> unwatchFns = <span class="hljs-keyword">this</span>._paramUnwatchFns
    <span class="hljs-keyword">if</span> (unwatchFns) {
      i = unwatchFns.length
      <span class="hljs-keyword">while</span> (i--) {
        unwatchFns[i]()
      }
    }
    <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span> &amp;&amp; <span class="hljs-keyword">this</span>.el) {
      <span class="hljs-keyword">this</span>.el._vue_directives.$remove(<span class="hljs-keyword">this</span>)
    }
    <span class="hljs-keyword">this</span>.vm = <span class="hljs-keyword">this</span>.el = <span class="hljs-keyword">this</span>._watcher = <span class="hljs-keyword">this</span>._listeners = <span class="hljs-literal">null</span>
  }
}</pre></div>
            </div>
        </li>
        
    </ul>
</section>
</body>
</html>
